# Phase 1.2: Cargo Vehicle Support

**Status:** ğŸ”´ Not Started
**Priority:** P0 - CRITICAL
**Duration:** 2 weeks
**Started:** Not started
**Completed:** Not completed

---

## ğŸ“‹ OVERVIEW

Cargo vehicle support is a key differentiator for the Croatian market. This feature enables the platform to support vans, trucks, and specialized cargo vehicles (Fiat Ducato, Mercedes Sprinter, etc.) with detailed specifications for volume, capacity, and special features.

---

## ğŸ¯ OBJECTIVES

1. Support cargo vehicle types (vans, trucks, refrigerated vehicles)
2. Detailed cargo specifications (volume, capacity, dimensions)
3. Special features (tail lift, partition, refrigeration)
4. Driver included option
5. Cargo-specific pricing
6. Dedicated search and filters

---

## ğŸ“Š DATABASE CHANGES

### Update Car Model

**File:** `backend/src/models/Car.ts`

**Add cargo-specific fields:**

```typescript
{
  // Cargo identification
  isCargoVehicle: boolean // Default: false
  cargoType: 'van_small' | 'van_medium' | 'van_large' | 'pickup_truck' | 'box_truck' | 'refrigerated' | 'flatbed'

  // Cargo specs
  cargoSpecs: {
    volume: number // cubic meters (mÂ³)
    capacity: number // kilograms (kg)
    loadingDimensions: {
      length: number // cm
      width: number // cm
      height: number // cm
    }
    hasTailLift: boolean
    isRefrigerated: boolean
    hasLoadingRamp: boolean
    hasPartition: boolean // Cargo area partition
    accessType: 'rear' | 'side' | 'both'
  }

  // Cargo pricing (often different rates)
  cargoHourlyRate: number
  cargoDailyRate: number
  cargoWeeklyRate: number
  cargoMonthlyRate: number

  // Additional cargo services
  driverIncluded: boolean // Driver with vehicle option
  driverDailyRate: number
  loadingAssistance: boolean
  loadingAssistanceRate: number

  // Insurance for cargo
  cargoInsurance: boolean
  cargoInsuranceDailyRate: number
  maxCargoValue: number // Max insured cargo value in EUR
}
```

---

## ğŸšš POPULAR CARGO VEHICLES (Croatia)

Pre-populate database with these popular models:

### Fiat Ducato Lineup
- **L1H1** - Volume: 8mÂ³, Capacity: 1200kg (246Ã—170Ã—158cm)
- **L2H2** - Volume: 10mÂ³, Capacity: 1400kg (304Ã—170Ã—188cm)
- **L3H2** - Volume: 13mÂ³, Capacity: 1600kg (361Ã—170Ã—188cm)
- **L4H3** - Volume: 17mÂ³, Capacity: 1800kg (424Ã—170Ã—218cm)

### Others
- **Mercedes Sprinter 311** - 11mÂ³, 1300kg
- **VW Transporter** - 6.7mÂ³, 1000kg
- **Box Trucks** - Various sizes
- **Refrigerated Vans** - For food delivery

---

## ğŸ”Œ API ENDPOINTS

### Cargo Vehicle Search

**GET** `/api/cargo-vehicles`

**Query Parameters:**
- `pickupLocation` - Required
- `dropOffLocation` - Required
- `from` - Date
- `to` - Date
- `minVolume` - Minimum volume in mÂ³
- `minCapacity` - Minimum capacity in kg
- `tailLift` - boolean
- `refrigerated` - boolean
- `driverIncluded` - boolean

---

### Popular Cargo Vehicles by City

**GET** `/api/popular-cargo-vehicles/:city`

Returns most booked cargo vehicles in specific city.

---

## ğŸ’» FRONTEND COMPONENTS

### Cargo Filters

**File:** `frontend/src/components/CargoFilters.tsx`

Filters specific to cargo vehicles:
- Volume range (0-20mÂ³)
- Capacity range (0-3500kg)
- Loading dimensions
- Tail lift
- Refrigeration
- Driver included

### Cargo Vehicle Card

**File:** `frontend/src/components/Car.tsx`

Display cargo specifications on vehicle cards:
- Volume and capacity badges
- Loading dimensions
- Special features icons
- "Driver available" badge

### Cargo Vehicles Landing Page

**File:** `frontend/src/pages/CargoVehicles.tsx`

Dedicated page for cargo vehicles:
- Hero section: "Najam teretnih vozila u Hrvatskoj"
- Popular categories
- Use cases (Moving, Delivery, Construction)
- Volume calculator
- Featured cargo vehicles

---

## ğŸ“ CROATIAN TRANSLATIONS

Add to all language files:

```typescript
CARGO_VEHICLES: 'Teretna vozila'
CARGO_VOLUME: 'Volumen'
CARGO_CAPACITY: 'Nosivost'
CARGO_DIMENSIONS: 'Dimenzije teretnog prostora'
TAIL_LIFT: 'Dizalica'
REFRIGERATED: 'Rashladni sanduk'
DRIVER_INCLUDED: 'S vozaÄem'
LOADING_ASSISTANCE: 'PomoÄ‡ pri utovaru'
MOVING_SERVICE: 'Selidbe'
DELIVERY_SERVICE: 'Dostava'
CONSTRUCTION: 'GraÄ‘evina'
VAN_SMALL: 'Mali kombi'
VAN_MEDIUM: 'Srednji kombi'
VAN_LARGE: 'Veliki kombi'
PICKUP_TRUCK: 'Pickup'
BOX_TRUCK: 'Kamion s kuticom'
```

---

## ğŸ“ IMPLEMENTATION CHECKLIST

### Week 1: Backend & Database
- [ ] Update Car model with cargo fields
- [ ] Create cargo vehicle type enums
- [ ] Update car creation/update endpoints
- [ ] Add cargo-specific validation
- [ ] Create cargo vehicle search endpoint
- [ ] Seed database with popular cargo vehicles
- [ ] Add Croatian translations

### Week 2: Frontend
- [ ] Create CargoFilters component
- [ ] Update Car component for cargo display
- [ ] Create CargoVehicles landing page
- [ ] Update admin car form for cargo fields
- [ ] Add cargo vehicle categories page
- [ ] Implement volume/weight calculator
- [ ] Add cargo vehicle icons and images

---

## ğŸ“Š SUCCESS METRICS

- âœ… Cargo vehicles can be created with all specifications
- âœ… Search filters work correctly for cargo
- âœ… Cargo specifications display clearly on cards
- âœ… Dedicated cargo landing page functional
- âœ… Popular Croatian cargo models in database
- âœ… Volume calculator helps users choose correct vehicle

---

## ğŸ“š FILES TO CREATE/MODIFY

### New Files
- `frontend/src/components/CargoFilters.tsx`
- `frontend/src/pages/CargoVehicles.tsx`
- `frontend/src/assets/css/cargo-filters.css`
- `frontend/src/assets/css/cargo-vehicles.css`
- `backend/scripts/seed-cargo-vehicles.ts`
- `admin/src/components/CargoVehicleForm.tsx`

### Modified Files
- `backend/src/models/Car.ts`
- `backend/src/controllers/carController.ts`
- `frontend/src/components/Car.tsx`
- `admin/src/pages/CreateCar.tsx`
- `admin/src/pages/UpdateCar.tsx`
- All language files

---

## ğŸ”„ STATUS LOG

| Date | Status | Notes |
|------|--------|-------|
| 2024-12-24 | Not Started | Documentation created |
